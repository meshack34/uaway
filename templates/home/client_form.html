{% extends "base_dashboard.html" %}
{% block content %}

<div class="container-fluid py-4 bg-light min-vh-100">

  <!-- Page Header -->
  <div class="card shadow-lg border-0 mb-4">
    <div class="card-body d-flex justify-content-between align-items-center">
      <h4 class="fw-bold mb-0">
        <i class="bi bi-person-plus text-success me-2"></i> Add Client
      </h4>
      <a href="{% url 'client_list' %}" class="btn btn-outline-secondary btn-sm">
        <i class="bi bi-arrow-left me-1"></i> Back to Clients
      </a>
    </div>
  </div>

  <!-- Form Card -->
  <div class="card shadow-lg border-0">
    <div class="card-body">
      <form method="post" class="row g-3" novalidate>
        {% csrf_token %}

        <!-- First / Last Name -->
        <div class="col-md-6">
          <label for="{{ form.first_name.id_for_label }}" class="form-label fw-semibold">First Name <span class="text-danger">*</span></label>
          {{ form.first_name }}
          {% if form.first_name.errors %}
            <div class="text-danger small mt-1">{{ form.first_name.errors|striptags }}</div>
          {% endif %}
        </div>

        <div class="col-md-6">
          <label for="{{ form.last_name.id_for_label }}" class="form-label fw-semibold">Last Name <span class="text-danger">*</span></label>
          {{ form.last_name }}
          {% if form.last_name.errors %}
            <div class="text-danger small mt-1">{{ form.last_name.errors|striptags }}</div>
          {% endif %}
        </div>

        <!-- Email -->
        <div class="col-md-6">
          <label for="{{ form.email.id_for_label }}" class="form-label fw-semibold">Email <span class="text-danger">*</span></label>
          {{ form.email }}
          {% if form.email.errors %}
            <div class="text-danger small mt-1">{{ form.email.errors|striptags }}</div>
          {% endif %}
        </div>

        <!-- Phone -->
        <div class="col-md-6">
          <label for="{{ form.phone_number.id_for_label }}" class="form-label fw-semibold">Phone <span class="text-danger">*</span></label>
          {{ form.phone_number }}
          {% if form.phone_number.errors %}
            <div class="text-danger small mt-1">{{ form.phone_number.errors|striptags }}</div>
          {% endif %}
        </div>

        <!-- Date of Birth -->
        <div class="col-md-6">
          <label for="{{ form.date_of_birth.id_for_label }}" class="form-label fw-semibold">Date of Birth</label>
          {{ form.date_of_birth }}
          {% if form.date_of_birth.errors %}
            <div class="text-danger small mt-1">{{ form.date_of_birth.errors|striptags }}</div>
          {% endif %}
        </div>

        <!-- Nationality -->
        <div class="col-md-6">
          <label for="{{ form.nationality.id_for_label }}" class="form-label fw-semibold">Nationality</label>
          {{ form.nationality }}
          {% if form.nationality.errors %}
            <div class="text-danger small mt-1">{{ form.nationality.errors|striptags }}</div>
          {% endif %}
        </div>

        <!-- Passport -->
        <div class="col-md-6">
          <label for="{{ form.passport_number.id_for_label }}" class="form-label fw-semibold">Passport Number</label>
          {{ form.passport_number }}
          {% if form.passport_number.errors %}
            <div class="text-danger small mt-1">{{ form.passport_number.errors|striptags }}</div>
          {% endif %}
        </div>

        <div class="col-md-6">
          <label for="{{ form.passport_expiry.id_for_label }}" class="form-label fw-semibold">Passport Expiry</label>
          {{ form.passport_expiry }}
          {% if form.passport_expiry.errors %}
            <div class="text-danger small mt-1">{{ form.passport_expiry.errors|striptags }}</div>
          {% endif %}
        </div>

        <!-- Address -->
        <div class="col-md-12">
          <label for="{{ form.address.id_for_label }}" class="form-label fw-semibold">Address</label>
          {{ form.address }}
          {% if form.address.errors %}
            <div class="text-danger small mt-1">{{ form.address.errors|striptags }}</div>
          {% endif %}
        </div>

        <!-- Emergency Contact -->
        <div class="col-md-6">
          <label for="{{ form.emergency_contact_name.id_for_label }}" class="form-label fw-semibold">Emergency Contact Name</label>
          {{ form.emergency_contact_name }}
          {% if form.emergency_contact_name.errors %}
            <div class="text-danger small mt-1">{{ form.emergency_contact_name.errors|striptags }}</div>
          {% endif %}
        </div>

        <div class="col-md-6">
          <label for="{{ form.emergency_contact_phone.id_for_label }}" class="form-label fw-semibold">Emergency Contact Phone</label>
          {{ form.emergency_contact_phone }}
          {% if form.emergency_contact_phone.errors %}
            <div class="text-danger small mt-1">{{ form.emergency_contact_phone.errors|striptags }}</div>
          {% endif %}
        </div>

        <!-- Dietary & Medical -->
        <div class="col-md-6">
          <label for="{{ form.dietary_preferences.id_for_label }}" class="form-label fw-semibold">Dietary Preferences</label>
          {{ form.dietary_preferences }}
          {% if form.dietary_preferences.errors %}
            <div class="text-danger small mt-1">{{ form.dietary_preferences.errors|striptags }}</div>
          {% endif %}
        </div>

        <div class="col-md-6">
          <label for="{{ form.medical_notes.id_for_label }}" class="form-label fw-semibold">Medical Notes</label>
          {{ form.medical_notes }}
          {% if form.medical_notes.errors %}
            <div class="text-danger small mt-1">{{ form.medical_notes.errors|striptags }}</div>
          {% endif %}
        </div>

        <!-- Language & Requests -->
        <div class="col-md-6">
          <label for="{{ form.preferred_language.id_for_label }}" class="form-label fw-semibold">Preferred Language</label>
          {{ form.preferred_language }}
          {% if form.preferred_language.errors %}
            <div class="text-danger small mt-1">{{ form.preferred_language.errors|striptags }}</div>
          {% endif %}
        </div>

        <div class="col-md-6">
          <label for="{{ form.special_requests.id_for_label }}" class="form-label fw-semibold">Special Requests</label>
          {{ form.special_requests }}
          {% if form.special_requests.errors %}
            <div class="text-danger small mt-1">{{ form.special_requests.errors|striptags }}</div>
          {% endif %}
        </div>

        <!-- Action Buttons -->
        <div class="col-12 mt-4 d-flex gap-2">
          <button type="submit" class="btn btn-success">
            <i class="bi bi-check-circle me-1"></i> Save
          </button>
          <a href="{% url 'client_list' %}" class="btn btn-outline-secondary">
            <i class="bi bi-x-circle me-1"></i> Cancel
          </a>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- Auto-apply Bootstrap classes -->
<script>
document.addEventListener("DOMContentLoaded", function() {
  document.querySelectorAll("input, select, textarea").forEach(function(el) {
    el.classList.add("form-control");
  });
});
</script>

{% endblock %}
